Single page applications
===

![](images/overview.png)
![](images/model-view.png)
![](images/model-detail.png)

SPA
---

- Где хранить данные. Храним данные в DOM-дереве: можно, если это меню.
- Как шаблон узнает, когда ему отрисовываться?
- Отрисовка: полная, отрисовка изменения вручную, виртуальный дом.
- Кеширование данных.


Обсуждение Todo
---

- Каждое дело показывает свое содержание и своего автора. У него есть id, который даётся сервером при сохранении. Всё сортится по id.
- Отрисовывать дело надо: на сервере при подготовке страницы, на клиенте при создании нового дела, на клиенте при получении нового дела.
- Делаем второй кусок: все авторы с количеством дел. В базе не храним: лишнее. Поддерживать отдельно: нет смысла, повтор данных. Вывод: надо насчитывать значение шаблона по данным. Это и есть view.
- Так как у двух view общие данные, их неудобно хранить в dom. Выносим в модель: array объектов.
- Как сообщается этот array с сервером? При создании нового дела в него добавляется элемент. На сервер должна уходить информация об обновлении через post.
- Когда приходит новый объект, нам надо перерисовать оба view.
- Страшное решение: всё пишем руками.
- Простое решение: всё перерисовываем при изменении модели.
- Поддержать в таком решении изменение элементов.
- Далее ввести в такое решение вторую модель: автор. У него может меняться имя, статус, аватарка.
- Поддержать удаление дел.
- Поддержать ситуацию, когда сеть отвалилась, а данные терять не хочется.
- Показать, как всё то же самое решается в реакте.
- Синхронизировано ли дело - это не состояние модели, это view state.
- Роутинг: страница логина, страница комментариев к делу.

Материалы
---

- [Single page apps in depth](http://singlepageappbook.com/index.html)
- [JavaScript Design Patterns](https://www.udacity.com/course/ud989)
- [Не учите фреймворки, учите архитектуру](http://habrahabr.ru/post/253297/)
- TodoMVC: [Backbone.js](http://todomvc.com/examples/backbone/), [Angular.js](http://todomvc.com/examples/angularjs/#/)
- [Backbone.js для «чайников»](http://habrahabr.ru/post/127049/)
- [Написание сложных интерфейсов с Backbone.js](http://m.habrahabr.ru/post/118782/)
- [Riot.js](https://muut.com/blog/technology/riotjs-the-1kb-mvp-framework.html), [Riot 2.0](https://muut.com/blog/technology/riot-2.0/index.html)
- [AngularJS’ Internals In Depth](http://www.smashingmagazine.com/2015/01/22/angularjs-internals-in-depth/)
- [Getting Started with Mithril](http://lhorie.github.io/mithril/getting-started.html)
- [MVC умер, пришло время MOVE (читайте комментарии)](http://habrahabr.ru/post/147038/)
- [Илья Бирман. Будущее нативных и веб-приложений](http://ilyabirman.ru/meanwhile/all/web-or-native-future/)
